<link rel="stylesheet" href="components/presentation-detail/presentation-detail.styles.css">
<div class="" id="presentation_detail">
  <header class="page-header">
    <div ng-if="$ctrl.updateAble" class="pull-right">
      <div class="btn-group" role="group" aria-label="...">
        <button type="button" class="btn btn-default btn-sm" ng-click="trueCreate()">
          <span class="glyphicon glyphicon-plus" > </span>
          <span class="hidden-xs">Create event</span>
        </button>
        <button type="button" class="btn btn-default btn-sm" ng-click="trueUpdate()">
          <span class="glyphicon glyphicon-pencil" > </span>
        </button>
        <button type="button" class="btn btn-default btn-sm btn-danger" ng-click="deletePr()">
          <span class="glyphicon glyphicon-trash"> </span>
        </button>
      </div>
    </div>
    <h2 class="hack-word shift-right">{{presentation.name}}</h2>
  </header>
  <div class="row">
    <div class="presentation-image-block col-md-3 col-lg-3 col-sm-4 col-xs-12">
      <img class="presentation-image" ng-src="{{presentation.thumbnail}}" alt="Presentation thumbnail">
    </div>
    <div class="col-md-8 col-lg-8 col-sm-12 col-xs-12">
      <p class="presentation-author-date"><b>Creator:</b> {{presentation.creator_info.username}}</p>
      <p><b>Date created:</b> {{presentation.date_created | date: "dd.MM.yyyy HH:mm"}}
      <p class="hack-word"><b>Description: </b>{{presentation.description}}</p>
    </div>
  </div>
  <hr>
  <div ng-if="$ctrl.updateAble" class="row" uib-collapse="!updateTrue">
    <div class="col-md-12">
      <h3 class="page-header">Edit presentation</h3>
      <form ng-submit="redactor()" class="col-md-6">
        <div class="error" ng-if="error">
          <p>{{error}}</p>
        </div>
        <div class="form-group">
          <label for="presentation-name" class="control-label">Presentation name</label>
          <input  class="form-control" type="text" name="name" ng-model="name" maxlength="39" id="presentation-name" required>
        </div>

        <div class="form-group">
          <label>Make a choice: link on raw view of markdown file or upload markdown file</label>
          <div class="presentation-buttons">
            <span class="input-group-addon input-group-sm" ng-click="$ctrl.fileOrLink = 1"><i class="glyphicon glyphicon-link"></i></span>
            <span class="input-group-addon input-group-sm" ng-click="$ctrl.fileOrLink = 2"><i class="glyphicon glyphicon-file"></i></span>
          </div>
        </div>

        <div class="form-group" uib-collapse="$ctrl.fileOrLink == 1 || !$ctrl.fileOrLink">
          <label for="presentation-file" class="control-label">Markdown file</label><br>
          <label class="btn btn-default btn-file">
            Browse <input type="file" ng-if="$ctrl.fileOrLink == 2" file-model = "$ctrl.file" id="presentation-file" accept=".md">
          </label>
        </div>

        <div class="form-group" uib-collapse="$ctrl.fileOrLink == 2 || !$ctrl.fileOrLink">
          <label for="presentation-file" class="control-label">Link to markdown file</label><br>
          <label>
            <input class="form-control" ng-if="$ctrl.fileOrLink == 1" type="url" ng-model = "$ctrl.link">
          </label>
        </div>

        <div class="form-group">
          <label for="presentation-thumb" class="control-label">Thumbnail</label><br>
          <label class="btn btn-default btn-file">
            Browse <input type="file" name="thumbnail" file-model = "thumbnail" ng-model="thumbnail" accept=".jpg, .jpeg, .png" id="presentation-thumb">
          </label>
        </div>
        <div class="form-group">
          <label for="presentation-desc" class="control-label">Description</label>
          <textarea class="form-control" name="desc" ng-model="description" maxlength="500" id="presentation-desc" required></textarea>
        </div>
        <div class="form-group">
          <label for="published" class="control-label">Public
            <input type="checkbox" name="published" ng-model="published" id="published"></label>
          </div>

          <div class="form-group">
            <input type="submit" class="btn btn-primary col-md-3" value="Update">
            <a class="btn btn-default col-md-3 col-md-offset-1" ng-click="trueUpdate()">Cancel</a>
         </div>
       </form>
    </div>
  </div>
  <div uib-collapse="!createTrue">
    <create-event></create-event>
  </div>
  <div ng-if="presentation">  <!-- ng-show="!createTrue && !updateTrue" -->
    <presentation-comments id="{{presentationId}}"></presentation-comments>
  </div>
</div>
